import{_,o as a,c as l,t as c,e as d,F as g,d as e,n as y,r as v,f as w,w as r,v as m,g as u,h as b,i as x}from"./index-f24acaba.js";const L={name:"TablerLoading",props:{inline:{type:Boolean,default:!1},desc:{type:String,default:"Loading..."}}},k={key:0,class:"d-flex"},C=e("div",{class:"spinner-border",role:"status"},null,-1),T=["textContent"],U=e("div",{class:"d-flex justify-content-center my-4"},[e("div",{class:"spinner-border",role:"status"})],-1),B={key:0,class:"d-flex justify-content-center my-4"},S=["textContent"];function V(t,s,o,h,f,i){return a(),l("div",{class:y({"w-full":!o.inline,"d-flex":o.inline})},[o.inline?(a(),l("div",k,[C,o.desc&&o.desc.length?(a(),l("div",{key:0,class:"mx-3 align-self-center",textContent:c(o.desc)},null,8,T)):d("",!0)])):(a(),l(g,{key:1},[U,o.desc&&o.desc.length?(a(),l("div",B,[e("div",{class:"",textContent:c(o.desc)},null,8,S)])):d("",!0)],64))],2)}const D=_(L,[["render",V]]),K={name:"Login",data:function(){return{loading:!1,username:"",password:""}},methods:{external:function(t){window.location=new URL(t)},createLogin:async function(){this.loading=!0;try{const t=await window.std("/login",{method:"POST",body:{Username:this.username,Password:this.password}});localStorage.token=t.token,this.$emit("login"),this.$router.push("/")}catch(t){throw this.loading=!1,t}}},components:{TablerLoading:D}},N={class:"page page-center"},P={class:"container container-normal py-4"},$={class:"row align-items-center g-4"},j={class:"col-lg"},E={class:"container-tight"},F={class:"card card-md"},z={class:"card-body"},I=e("div",{class:"text-center",style:{"margin-bottom":"24px"}},[e("img",{src:b,height:"150"})],-1),M=e("h2",{class:"h2 text-center mb-4"},"Login to your account",-1),O={class:"mb-3"},R=e("label",{class:"form-label"},"Username or Email",-1),Y={class:"mb-2"},q=e("label",{class:"form-label"}," Password ",-1),A={class:"input-group input-group-flat"},G={class:"form-footer"},H=e("div",{class:"text-center text-muted mt-3"},[x(" Don't have account yet? "),e("a",{href:"mailto:nicholas.ingalls@developmentseed.org"},"Contact Us")],-1);function J(t,s,o,h,f,i){const p=v("TablerLoading");return a(),l("div",N,[e("div",P,[e("div",$,[e("div",j,[e("div",E,[e("div",F,[e("div",z,[I,M,t.loading?(a(),w(p,{key:0,desc:"Logging in"})):(a(),l(g,{key:1},[e("div",O,[R,r(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>t.username=n),onKeyup:s[1]||(s[1]=u((...n)=>i.createLogin&&i.createLogin(...n),["enter"])),type:"text",class:"form-control",placeholder:"your@email.com",autocomplete:"off"},null,544),[[m,t.username]])]),e("div",Y,[q,e("div",A,[r(e("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>t.password=n),onKeyup:s[3]||(s[3]=u((...n)=>i.createLogin&&i.createLogin(...n),["enter"])),type:"password",class:"form-control",placeholder:"Your password",autocomplete:"off"},null,544),[[m,t.password]])])]),e("div",G,[e("button",{onClick:s[4]||(s[4]=(...n)=>i.createLogin&&i.createLogin(...n)),type:"submit",class:"btn btn-primary w-100"},"Sign In")])],64))])]),H])])])])])}const W=_(K,[["render",J]]);export{W as default};
